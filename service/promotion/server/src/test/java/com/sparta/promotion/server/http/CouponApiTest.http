@Port=19091
@couponId=4
@userId=11

### 로그인
POST http://localhost:{{Port}}/api/auth/sign-in
Content-Type: application/json

{
  "username": "newUser12",
  "password": "password123"
}
> {%
  client.global.set("access_token", "Bearer " + response.body.data.token);
%}

### 로그인
POST http://localhost:{{Port}}/api/auth/sign-in
Content-Type: application/json

{
  "username": "newUser",
  "password": "password123"
}
> {%
  client.global.set("access_token_admin", "Bearer " + response.body.data.token);
%}

### 이벤트 생성
POST http://localhost:{{Port}}/api/events
Content-Type: application/json
Authorization: {{access_token_admin}}

{
  "title": "2024 가을 세일 이벤트",
  "imgUrl": "https://example.com/images/fall-sale.jpg",
  "content": "올 가을, 특별한 세일을 놓치지 마세요! 다양한 상품이 최대 50% 할인됩니다.",
  "startAt": "2024-10-21T10:00:00",
  "endAt": "2024-10-31T23:59:59"
}

### 이벤트 쿠폰 생성
POST http://localhost:{{Port}}/api/coupons/event
Content-Type: application/json
Authorization: {{access_token_admin}}

{
  "name": "Test Coupon5",
  "type": "EVENT",
  "discountType": "PRICE",
  "discountValue": 1000.00,
  "minBuyPrice": null,
  "maxDiscountPrice": null,
  "quantity": 100000,
  "startDate": "2024-01-01T00:00:00",
  "endDate": "2024-12-31T23:59:59",
  "userTier": null,
  "eventId": 1
}

### 이벤트 쿠폰 발급
POST http://localhost:{{Port}}/api/coupons/event/{{couponId}}
Authorization: {{access_token}}

### 쿠폰 전체 조회
GET http://localhost:{{Port}}/api/coupons
Authorization: {{access_token}}

### 쿠폰 단일 조회
GET http://localhost:{{Port}}/api/coupons/{{couponId}}
Authorization: {{access_token}}

### 특정 사용자 쿠폰 전체 조회
GET http://localhost:{{Port}}/api/coupons/users/{{userId}}
Authorization: {{access_token}}

### 내 쿠폰 전체 조회
GET http://localhost:{{Port}}/api/coupons/me
Authorization: {{access_token}}

### 쿠폰 수정
PATCH localhost:{{Port}}/api/coupons/{{couponId}}
Content-Type: application/json
Authorization: {{access_token}}

{
  "name": "Updated Coupon Name",
  "type": "EVENT",
  "discountType": "PERCENTAGE",
  "discountValue": 10.00,
  "minBuyPrice": 100.00,
  "maxDiscountPrice": 50.00,
  "quantity": 100,
  "startDate": "2024-01-01T00:00:00",
  "endDate": "2024-12-31T23:59:59",
  "userTier": "GOLD",
  "eventId": 1
}

### 쿠폰 삭제
DELETE localhost:{{Port}}/api/coupons/{{couponId}}
Authorization: {{access_token}}

### 쿠폰 사용
PATCH http://localhost:19021/internal/coupons/{{couponId}}/use?userId={{userId}}
Authorization: {{access_token}}

### 쿠폰 환불
PATCH http://localhost:19021/internal/coupons/{{couponId}}/refund?userId={{userId}}
Authorization: {{access_token}}
